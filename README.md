#Описание

**absipcam.bash** - это скрипт для контроля ежедневного количества и объёма видеофайлов, поступающих от камер видеонаблюдения. При отклонениях в количестве или объёме генерируются тревожные сообщения (посредством absmsg.bash). Вся информация дублируется в системном журнале.

**absmsg.bash** - это скрипт для упрощенной одновременной отправки сообщений по электронной почте, СМС и в системный журнал. Текст сообщения бёрётся из стандартного потока stdin и содержимого файлов - аргументов командной строки. Все неразобранные опции считаются именами файлов, которые последовательно добавляются к итоговому сообщению. Если сообщение вообще не задано, то в сообщение записывается имя текущего пользователя, имя хоста, время и дата, а к теме добавляется подстрока ": timestamp".

#Установка

***.bash** разместить в одном из каталогов переменной $PATH
***-completion** - файлы автоматических дополнений соответствующих скриптов bash - разместить в /etc/bash_completion.d/ (работает в Fedora 40)


#Использование

##absipcam.bash
absipcam.bash   version 0.1, © 2024 by Sergey Vasiliev aka abs.
absipcam.bash - это скрипт для контроля ежедневного количества и объёма видеофайлов, поступающих от камер видеонаблюдения. При отклонениях в количестве или объёме генерируются тревожные сообщения (посредством absmsg.bash). Вся информация дублируется в системном журнале.

absipcam.bash comes with ABSOLUTELY NO WARRANTY. This is free software, and you are welcome to redistribute it under certain conditions.  See  the GNU General Public Licence for details.

Использование: absipcam.bash [ОПЦИЯ] ...

Опции:
-a, --only-alarm    выводить информацию только в случае проблем с количеством или объёмом видеофайлов
-e, --email         отправить уведомление по электронной почте
-s, --sms           при наличии тревожных сообщений отправить уведомление по СМС
-q, --quiet         не выводить информацию на экран
-h, --help          показывает эту подсказку


##absmsg.bash
absmsg.bash   version 0.1, © 2024 by Sergey Vasiliev aka abs.
absmsg.bash - это скрипт для упрощенной одновременной отправки сообщений по электронной почте, СМС и в системный журнал. Текст сообщения бёрётся из стандартного потока stdin и содержимого файлов - аргументов командной строки. Все неразобранные опции считаются именами файлов, которые последовательно добавляются к итоговому сообщению. Если сообщение вообще не задано, то в сообщение записывается имя текущего пользователя, имя хоста, время и дата, а к теме добавляется подстрока ": timestamp".

absmsg.bash comes with ABSOLUTELY NO WARRANTY. This is free software, and you are welcome to redistribute it under certain conditions.  See  the GNU General Public Licence for details.

Использование: absmsg.bash [ОПЦИЯ] [--] [FILE1] [FILE2] ...

Опции:
-e, --email                        отправить сообщение по электронной почте
-j, --subject "Тема письма"        тема письма; по-умолчанию используется имя скрипта 'absmsg.bash'; опция игнорируется при выборе способа отправки сообщений sms
-a, --attach "Имя файла"           вложение к письму: имя файла с путём; опция может быть использована многократно; опция игнорируется при выборе других способов отправки сообщений

-l, --log                          сделать запись в системном журнале
-j, --subject "Тег"                тег записи в системном журнале; пробелы принудительно меняются на знаки подчёркивания '_'; если тег не задан, то используется имя скрипта 'absmsg.bash'; опция игнорируется при выборе способа отправки сообщений sms
-p, --priority "facility.level"    описание возможных комбинаций имён facility и level смотрите 'man logger'; по-умолчанию используется user.info; опция игнорируется при выборе других способов отправки сообщений

-s, --sms                          отправить СМС

-d, --debug                        режим отладки для вывода диагностических сообщений используемых команд
-h, --help                         показывает эту подсказку

Примеры использования:
echo "Сообщение" | absmsg.bash --log --email
cat /etc/passwd | absmsg.bash --email --subject "Файл passwd"
absmsg.bash --email --subject "Файл passwd" </etc/passwd
echo "Сообщение" | absmsg.bash --log --email --subject "Письмо с вложениями" --attach "/etc/passwd" --attach /etc/group -d
echo "Сообщение" | absmsg.bash --log --subject "Какой-то заголовок" --priority cron.err
echo "Сообщение" | absmsg.bash -e -j "Какой-то заголовок" -d ~/.nanorc ~/.bashrc
absmsg.bash -e -j "Какой-то заголовок" -- ~/.nanorc ~/.bashrc
absmsg.bash -el
echo "Сообщение" | absmsg.bash --sms

